# 03-React

## 3.React

#### 학습 키워드

* React란?
* React 컴포넌트
* React 리렌더링
* IoC(Inversion of Control)
* Library vs Framework

\


### 1.React 란?

현업에서 자주 사용되고 있는 웹,앱의 View의 제작을 도와주는 (tool) 라이브러리이다. 대표적으로 넷플릭스(Nefilx), 왓챠(Watcha)가 있다.

* React의 특징 React는 선언형이다. React는 컴포넌트 기반으로 재사용성이 뛰어나다. React는 Virtual DOM(가상돔)기반으로 가볍다. React 컴포넌트는 state와 props 을 가진다.



### 2.React 컴포넌트

Component와 props Component 컴포넌트

1. 컴포넌트를 통해 UI를 재사용 가능한 개별적인 여러 조각으로 나누고, 각 조각을 개별적으로 살펴볼 수 있습니다
2. JavaScript 함수와 유사합니다. “props”라고 하는 임의의 입력을 받은 후, 화면에 어떻게 표시되는지를 기술하는 React 엘리먼트를 반환합니다.

#### props

* props는 속성을 나타내는 데이터이다.
* 사용자에게 중요함 보여지는 측면이 강하다.
* props = 핸드폰 외부 (케이스 등. )

#### state

* 내부에서 동작, 사용자가 알 필요도 없고 알아서도 안되는 것. component 내부적으로 사용하는 것 들. 구현자 측면.
* state는 화면에 보여줄 컴포넌트의 UI 정보(상태)를 지니고 있는 객체입니다.
* 컴포넌트 내부에서 가지고 있는 컴포넌트의 상태값.
* state는 컴포넌트 내에서 정의하고 사용하며 얼마든지 데이터(객체)가 변경될 수 있다.
* state = 핸드폰 내부 (전선, 기능 부품 등) / component가 다양한 동작을 할 수 있게 끔 한다.



### 3.React 리렌더링

* 렌더링 과정 기본적인 리액트의 렌더링 개념은 루트 `(<div id="root"></div>)` DOM부터 시작해 플래그가 지정되어 있는 모든 컴포넌트를 찾아서 렌더링을 진행하는 것을 말합니다.
* root id는 public/index.html에 기본적으로 설정이 되어있습니다.
* DOM은 HTML parser에 의해 생성된 트리 구조의 Node 객체 모델입니다.

```js
const root = ReactDOM.createRoot(document.getElementById('root'));
const element = <h1>Hello, world</h1>;
root.render(element);
```

기본적으로 리액트의 렌더링은 이러한 DOM 엘리먼트를 ReactDOM.createRoot()에 전달한 다음, 그 React Element를 root.render()에 전달하는 과정을 거칩니다.

* 리랜더링 앞에서 렌더링을 설명했는데, 리액트에선 초기에 한번 렌더링을 진행하고, 그 이후에 특정 조건이 발생하면 다시 렌더링을 진행하는 리렌더링이라고 하는 것이 있습니다.
* 내부 상태(state) 변경시
* 부모에게 전달받은 값(props) 변경시
* 중앙 상태값(Context value 혹은 redux store) 변경시
* 부모 컴포넌트가 리렌더링 되는 경우

\
위의 경우가 컴포넌트가 리렌더링 되는 조건입니다.

리액트가 아무리 최적화가 잘 되어있다고해도, 무분별하게 렌더링이 일어날 경우 성능 저하가 일어나게 되기 때문에, 이러한 조건들을 기준을 두고 코드를 작성하여 무분별하게 렌더링이 일어나지 않도록 주의하여야 합니다.

* redux store 변경시 자동으로 리렌더링이 되는 이유는, 리덕스 스토어가 로 컴포넌트를 감싸주었을 때, 스토어 상태가 변경될 때마다 이를 참조하는 컴포넌트들이 리렌더링이 될 수 있도록 react-redux 라이브러리가 자동적으로 컴포넌트 들의 렌더 함수들을 subscribe 해주기 때문입니다.



### 4.IoC(Inversion of Control)

전통적인 프로그래밍에서 흐름은 프로그래머가 작성한 프로그램이 외부 라이브러리의 코드를 호출해 이용한다. 하지만 제어 반전이 적용된 구조에서는 외부 라이브러리의 코드가 프로그래머가 작성한 코드를 호출한다.

React는 React가 컴포넌트에 대해 아는 것이 재귀적으로 호출한 React 엘리먼트 트리만 보는 것보다 효율적으로 처리할 수 있다.

```js
// 🔴 React는 Layout이나 Article이 존재하는지 모릅니다.
// 컴포넌트를 직접 호출합니다.
ReactDOM.render(Layout({ children: Article() }), domContainer);

// ✅ React는 Layout과 Article의 존재를 알게 됩니다.
// React가 컴포넌트를 호출합니다.
ReactDOM.render(
  <Layout>
    <Article />
  </Layout>,
  domContainer
);
```

* 컴포넌트는 함수 이상의 역할을 한다. react는 상호 작용에 대한 응답으로 UI트리를 렌더한다. 컴포넌트를 직접 호출하면 이 기능을 직접 구축해야한다. 추상화를 제공한다고 볼 수 있다.
* 컴포넌트 타입으로 재조정. 트리의 개념 구조를 더 많이 알려줄 수 있다.
* react가 재조정을 지연할 수 있다. 브라우저가 컴포넌트 호출 사이에서 일부 작업을 할 수 있게되어 큰 컴포넌트 트리를 다시 렌더링 하더라도 메인 스레드를 멈추지 않게 할 수 있다. 이를 수동으로 조율할 필요없다.
* 디버깅 컴포넌트가 일급 객체라면 나은 개발 도구를 만들 수 있다.



### 5.Library vs Framework

React가 라이브러리인 이유를 생각해 보기 전에 프레임워크와 라이브러리의 간단한 정의.

* 프레임워크 : 원하는 기능 구현에 집중하여 개발할 수 있도록 필요한 기능을 갖추고 있는 것, 일정한 형태를 가지고 다양한 형태의 결과물을 만드는 것.
* 라이브러리 : 소프트웨어를 개발할 때 프로그래밍 사용하는 비휘발성 자원의 모임, 공통으로 사용될 수 있는 특정한 기능들을 모듈화한 것.

둘 다 공통의 기능을 사용하여 결과물을 만드는 것으로 비슷해 보이지만, 둘의 차이점은 어플리케이션의 제어 흐름의 권한을 누가 가지고 있느냐가 핵심이다.
